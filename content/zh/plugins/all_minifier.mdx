# 资源压缩

Redefine 主题代码中，HTML、CSS、JavaScript、图片等代码文件都是没有打包压缩的。

如果你想要将这些文件打包压缩，可以使用插件 [hexo-all-minifier](https://github.com/chenzhutian/hexo-all-minifier) 来解决，能有效减少网站的加载时间。

[hexo-all-minifier](https://github.com/chenzhutian/hexo-all-minifier) 集成了 `html-minifier`、`clean-css`、`uglify` 和 `imagemin`，配置简单方便。

## 配置

import { Steps } from "nextra/components";

<Steps>
### 安装插件

在 Hexo 项目根目录下安装 **hexo-all-minifier**，执行以下命令：

```shell
npm install hexo-all-minifier
```

### 修改配置文件

在 Hexo 站点配置文件 `_config.yml` 文件中，添加以下配置项：

```yaml filename="_config.yml"
all_minifier: true
```

</Steps>

## 常见问题

### 使用 hexo-all-minifier 出现 Tailwind CSS 相关错误

执行 `hexo generate` 会出现如下错误：

```shell
ERROR Ignoring local @import of "tailwindcss" as resource is missing.
<project_root>\node_modules\hexo-theme-redefine\source\css\tailwind.source.css
```

该错误通常出现在启用了 hexo-all-minifier 插件后，css_minifier 试图处理 `tailwind.source.css` 文件，但该文件仅用于开发阶段 Tailwind CSS 构建 CSS 的过程，实际并不充当 CSS 资源。

为避免该错误，请在 Hexo 站点配置文件 `_config.yml` 文件中，添加以下配置项：

```yaml filename="_config.yml"
css_minifier:
  exclude:
    - "tailwind.source.css"
```

如果你使用插件时还遇到了其它问题或者想进行更详细的设置，请查看插件的[文档](https://github.com/chenzhutian/hexo-all-minifier/blob/master/README.md)。
